import{ae as f,$ as l,af as O,al as r,am as i,an as c}from"./entry.79cdac7f.js";function E(){const a=f(),{addTransactions:p,addPayments:u,changePages:g}=a,m=l(),{toggleSnackBarDone:s,toggleSnackBarReject:n}=m,{prepareLogout:o}=O();function d(){let e=[c.authorization];$fetch(`${r}/api/v1/user/transactions?items_per_page=30&page=${a.pages}`,i("GET",e)).then(t=>{s({isOpen:!0,text:"История транзакций загружена"}),p(t.transactions.data),g(t.transactions.current_page+1)}).catch(t=>{t.statusCode===401?o():n({isOpen:!0,text:"Что-то пошло не так"})})}function h(){let e=[c.authorization];$fetch(`${r}/api/v1/user/payments?items_per_page=30&page=1`,i("GET",e)).then(t=>{s({isOpen:!0,text:"История транзакций загружена"}),u(t.payments.data)}).catch(t=>{t.statusCode===401?o():n({isOpen:!0,text:"Что-то пошло не так"})})}return{getPersonTransaction:d,getPersonPayments:h}}export{E as t};
