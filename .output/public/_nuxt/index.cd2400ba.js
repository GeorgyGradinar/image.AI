import{a as P,Y as W,k as A,$ as G,v as X,o as c,b as d,u as e,f as s,w as O,j as x,x as B,y as C,z as V,B as y,p as H,i as q,T as Z,l as m,a0 as U,s as M,a1 as ee,e as te,m as se,q as L,a2 as oe,F as ae,r as le,C as ne,a3 as ie,t as re,c as ce,h as de}from"./entry.7a8429ca.js";import{g as ue}from"./generatorImages.eddbf8fe.js";import{_ as _e}from"./boxes.ae0b61ef.js";import{m as z,a as ve,l as pe,s as me,b as ge}from"./seoConfig.247309dc.js";const T=l=>(H("data-v-a75abfb3"),l=l(),q(),l),he={class:"photo-grid"},fe={key:0,class:"photo-wrapper"},we=["src"],ke=["href"],be=T(()=>s("img",{src:Z,alt:""},null,-1)),Ce=T(()=>s("svg",{viewBox:"0 0 24 24",fill:"none"},[s("path",{d:"M16 6V5.2C16 4.0799 16 3.51984 15.782 3.09202C15.5903 2.71569 15.2843 2.40973 14.908 2.21799C14.4802 2 13.9201 2 12.8 2H11.2C10.0799 2 9.51984 2 9.09202 2.21799C8.71569 2.40973 8.40973 2.71569 8.21799 3.09202C8 3.51984 8 4.0799 8 5.2V6M10 11.5V16.5M14 11.5V16.5M3 6H21M19 6V17.2C19 18.8802 19 19.7202 18.673 20.362C18.3854 20.9265 17.9265 21.3854 17.362 21.673C16.7202 22 15.8802 22 14.2 22H9.8C8.11984 22 7.27976 22 6.63803 21.673C6.07354 21.3854 5.6146 20.9265 5.32698 20.362C5 19.7202 5 18.8802 5 17.2V6",stroke:"black","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)),xe=T(()=>s("path",{d:"M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"},null,-1)),ye=[xe],$e={__name:"ImageElement",props:{image:{}},setup(l){const k=l,{image:o}=W(k);A();const g=G(),{toggleImageDetails:u}=g,{likeImage:_,deleteImage:t}=ue();async function b($,n){const p=await(await fetch($)).blob(),a=URL.createObjectURL(p),r=document.createElement("a");r.href=a,r.download=n||"image",document.body.appendChild(r),r.click(),document.body.removeChild(r),window.URL.revokeObjectURL(a)}return($,n)=>{const v=X("v-tooltip");return c(),d("div",he,[e(o).url?(c(),d("div",fe,[s("img",{class:"main-image",src:e(o).url,alt:"image example",onClick:n[0]||(n[0]=O(p=>e(u)({isOpen:!0,image:e(o)}),["prevent"]))},null,8,we),s("a",{class:"wrapper-download",href:e(o).url,onClick:n[1]||(n[1]=O(p=>{var a;return b(e(o).url,(a=e(o).params)==null?void 0:a.prompt)},["prevent"]))},[be,x(v,{activator:"parent",location:"bottom"},{default:B(()=>[C("Скачать")]),_:1})],8,ke),s("div",{class:"wrapper-bin",onClick:n[2]||(n[2]=p=>e(t)(e(o).id))},[Ce,x(v,{activator:"parent",location:"bottom"},{default:B(()=>[C("Удалить")]),_:1})]),s("div",{class:"wrapper-like",onClick:n[3]||(n[3]=p=>e(_)(e(o).id))},[(c(),d("svg",{class:V(["like",{"like-active":e(o).is_liked}]),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},ye,2)),x(v,{activator:"parent",location:"bottom"},{default:B(()=>[C("Добавить в избранное")]),_:1})])])):y("",!0)])}}},Ie=P($e,[["__scopeId","data-v-a75abfb3"]]);const Y=l=>(H("data-v-1d8330b7"),l=l(),q(),l),Se={class:"wrapper-navigation"},Be=Y(()=>s("img",{class:"edit",src:_e,alt:""},null,-1)),Me=Y(()=>s("svg",{class:"like",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[s("path",{d:"M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"})],-1)),Le={__name:"NavigationBlock",emits:["changeFilters"],setup(l,{emit:k}){let o=m("generated");function g(u){o.value=u,k("changeFilters",u)}return(u,_)=>(c(),d("div",Se,[s("nav",null,[s("button",{class:V({"active-left":e(o)==="generated"}),onClick:_[0]||(_[0]=t=>g("generated"))},[Be,C(" Все ")],2),s("button",{class:V({"active-right":e(o)==="like"}),onClick:_[1]||(_[1]=t=>g("like"))},[Me,C(" Избранные ")],2)])]))}},Ve=P(Le,[["__scopeId","data-v-1d8330b7"]]);const Te={class:"wrapper-gallery"},De={class:"main-block"},Ne={key:0,class:"wrapper-images"},Ee={class:"wrapper-loader"},Fe=de('<div class="loader"><div class="circle"></div><div class="circle"></div><div class="circle"></div><div class="shadow"></div><div class="shadow"></div><div class="shadow"></div></div>',1),Re=[Fe],je={key:1,class:"info-message"},Oe={key:2,class:"wrapper-text"},Ge={__name:"index",setup(l){const{setProperty:k}=ge();k(z.title,[...ve,...z.meta],pe,me);const{getPersonGallery:o}=U(),g=A();U();const{person:u}=M(g),_=ee(),{images:t,isShowMainLoader:b,inProgressMoreImages:$,isShowButtonMoreImages:n}=M(_);te();const v=G(),{isOpenAcceptDialog:p}=M(v);let a=m([]),r=m("generated"),D=m("");m("Сначала новые");let h=m(""),I=m(null),J;se(()=>{u._value.id&&!p.value&&(t.value.length?a.value=t.value:N())}),L(u,i=>{i.id&&!t.value.length&&!v.isOpenAcceptDialog&&N()}),L(t,i=>{E()}),L(D,i=>{t.value&&K()});let S;function N(){clearTimeout(S),S=setTimeout(()=>{o()},500)}function K(){I&&clearTimeout(I),I=setTimeout(()=>{Q(D.value)},500)}function Q(i){let f;i?f=t==null?void 0:t.value.filter(w=>{if(w.filters.description.includes(i)||w.filters.exception.includes(i))return w}):f=a._value.images,t.value=f,h.value=t!=null&&t.value.length?h.value:"Изображение не найдено"}function E(i){window.scrollTo({top:0,behavior:"smooth"}),r.value=i||r.value,r.value==="generated"?(a.value=t.value,h.value="У вас нет сгенерированных изображений"):r.value==="like"&&(a.value=t.value.filter(f=>f.is_liked),h.value="У вас нет избранных изображений")}return oe(()=>{removeEventListener("scroll",J),clearTimeout(S)}),(i,f)=>{var w,F,R;return c(),d("div",Te,[s("div",De,[x(e(Ve),{onChangeFilters:E}),(w=e(a))!=null&&w.length?(c(),d("div",Ne,[(c(!0),d(ae,null,le(e(a),j=>(c(),ce(e(Ie),{key:j.id,image:j},null,8,["image"]))),128))])):y("",!0),ne(s("div",Ee,Re,512),[[ie,e(b)]]),!((F=e(t))!=null&&F.length)&&!e(b)?(c(),d("span",je," У вас пока нет сгенерированных изображений. ")):y("",!0),e(h)&&!e(a).length&&!e(b)&&((R=e(t))!=null&&R.length)?(c(),d("div",Oe,[s("p",null,re(e(h)),1)])):y("",!0)])])}}};export{Ge as default};
