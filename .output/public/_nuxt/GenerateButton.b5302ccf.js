import{Y as A,k as j,s as U,l as v,m as H,q as V,v as m,o as $,c as P,x as f,j as _,y,f as e,u,b as w,C as z,z as G,A as Z,D as T,B as q,t as B,a as K,a1 as O,$ as Y,w as J,p as Q,i as W}from"./entry.31948361.js";import{e as X}from"./variables.d028765b.js";import{g as D}from"./generatorImages.a5b2f006.js";const ee=e("svg",{class:"edit-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},[e("g",{id:"Layer_77","data-name":"Layer 77"},[e("path",{d:"M4.83,53.14h0l10.22-.27a2,2,0,0,0,1.36-.58L49.87,18.88a9.05,9.05,0,0,0,0-12.78h0a9.05,9.05,0,0,0-12.78,0L3.68,39.51a2,2,0,0,0-.58,1.36L2.83,51.09A2,2,0,0,0,4.83,53.14ZM39.92,8.93c4.82-4.57,11.69,2.31,7.12,7.12L44,19.12,36.85,12ZM7.07,41.78,34,14.83,41.14,22,14.2,48.9l-7.31.18Z"}),e("path",{d:"M60,56.54H4a2,2,0,0,0,0,4H60A2,2,0,0,0,60,56.54Z"})])],-1),te={class:"wrapper-description",id:"v-step-0"},se={key:0,class:"find-description"},oe=e("p",null,"Поиск",-1),ne=e("p",null,"Элементы которые будут заменены",-1),ae={class:"description"},le=e("div",null,[e("p",null,"Описание")],-1),ie=e("img",{class:"random-img",src:X,alt:""},null,-1),re={class:"negative-description"},ce=e("p",null,"Исключения",-1),Be={__name:"DescriptionBlock",props:{hasShowSearch:Boolean},setup(x){const M=x,{hasShowSearch:b}=A(M),L=j(),{filters:t}=U(L),{changeFilters:g}=L,s=v([0]),c=["Машина из будущего","Маленький котёнок","Ёжик","Лампа","Робот из лего","Древний замок","Тёмная башня","Огромный паук","Логотип IT-кампании","Планета земля","Чёрное облако"],C=["на фоне звёзд, планет и галактик","на фоне джунглей во время дождя","в городе во время снегопада","на белом фоне","в бушующем океане","на фоне реки с камышами","в элитной квартире"],I=["фотография, реалистично, 4k","стиль аниме, 8k","рисунок художника","в стиле дисней","анимационный стиль, 4k","фотореалистично, 4k","отлично качество, реализм"];let p=v(""),o=v(),S=v(b._object?b:!1),i=v(null);H(()=>{t.value.description?(p.value=t.value.description,o.value=t.value.exception):F()});function F(){let n=`${c[Math.floor(Math.random()*11)]}, ${C[Math.floor(Math.random()*7)]}, ${I[Math.floor(Math.random()*7)]} `;g("description",n)}V(t,n=>{p.value=n.description,o.value=n.exception}),V(p,n=>{h("description",n)}),V(o,n=>{h("exception",n)});function h(n,a){i&&clearTimeout(i),i=setTimeout(()=>{g(n,a)},200)}return(n,a)=>{const N=m("v-expansion-panel-title"),l=m("v-expansion-panel-text"),d=m("v-expansion-panel"),k=m("v-expansion-panels");return $(),P(k,{modelValue:s.value,"onUpdate:modelValue":a[3]||(a[3]=r=>s.value=r)},{default:f(()=>[_(d,null,{default:f(()=>[_(N,{"expand-icon":"mdi-chevron-down","collapse-icon":"mdi-chevron-up"},{default:f(()=>[ee,y(" Описание ")]),_:1}),_(l,{class:"expansion-panel-wrapper"},{default:f(()=>[e("div",te,[u(S)?($(),w("section",se,[oe,z(e("input",{placeholder:"Напримепр: волосы, элементы декора",class:G({"is-data-input":u(o)}),"onUpdate:modelValue":a[0]||(a[0]=r=>Z(o)?o.value=r:o=r)},null,2),[[T,u(o),void 0,{lazy:!0}]]),ne])):q("",!0),e("section",ae,[le,z(e("textarea",{autofocus:"",placeholder:"Опишите то, что хотели бы сгенерировать",class:G({"is-data-input":u(p)}),"onUpdate:modelValue":a[1]||(a[1]=r=>Z(p)?p.value=r:p=r)},`
            `,2),[[T,u(p)]]),e("button",{class:"random-button",onClick:F},[ie,y("Рандом ")])]),e("section",re,[ce,z(e("input",{placeholder:"Что хотите исключить",class:G({"is-data-input":u(o)}),"onUpdate:modelValue":a[2]||(a[2]=r=>Z(o)?o.value=r:o=r)},null,2),[[T,u(o)]])])])]),_:1})]),_:1})]),_:1},8,["modelValue"])}}};const pe=e("svg",{class:"edit-icon",viewBox:"0 0 21 20"},[e("g",{id:"Page-1",stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},[e("g",{id:"Dribbble-Light-Preview",transform:"translate(-59.000000, -720.000000)",fill:"#36E2FF"},[e("g",{id:"icons",transform:"translate(56.000000, 160.000000)"},[e("path",{d:"M21.9,574 L21.9,560 L19.8,560 L19.8,574 L17.7,574 L17.7,576 L19.8,576 L19.8,580 L21.9,580 L21.9,576 L24,576 L24,574 L21.9,574 Z M14.55,560 L12.45,560 L12.45,569 L10.35,569 L10.35,571 L12.45,571 L12.45,580 L14.55,580 L14.55,571 L16.65,571 L16.65,569 L14.55,569 L14.55,560 Z M7.2,574 L9.3,574 L9.3,576 L7.2,576 L7.2,580 L5.1,580 L5.1,576 L3,576 L3,574 L5.1,574 L5.1,560 L7.2,560 L7.2,574 Z",id:"option_bar_settings-[#1400]"})])])])],-1),ue={class:"wrapper-block"},de={class:"number-images"},_e={class:"wrapper-steps-and-guidance"},me={class:"steps"},ve={class:"guidance"},ge={class:"seed"},he=e("p",null,"Сид",-1),Ce={__name:"GenerationParameters",setup(x){const M=j(),{filters:b}=U(M),{changeFilters:L}=M,t=v({countImages:null,step:null,navigation:null,seed:null});V(b,s=>{t.value.countImages=s.parameters.countImages?s.parameters.countImages:1,t.value.step=s.parameters.step?s.parameters.step:10,t.value.navigation=s.parameters.navigation?s.parameters.navigation:1,t.value.seed=s.parameters.seed?s.parameters.seed:Math.floor(Math.random()*1e4)}),V(t.value,s=>{L("parameters",{countImages:s.countImages,step:s.step,navigation:s.navigation,seed:s.seed?s.seed:Math.floor(Math.random()*1e4)})});function g(s){if(s.charCode===0||/\d/.test(String.fromCharCode(s.charCode)))return!0;s.preventDefault()}return(s,c)=>{const C=m("v-expansion-panel-title"),I=m("v-slider"),p=m("v-app"),o=m("v-expansion-panel-text"),S=m("v-expansion-panel");return $(),P(S,null,{default:f(()=>[_(C,{"expand-icon":"mdi-chevron-down","collapse-icon":"mdi-chevron-up"},{default:f(()=>[pe,y(" Параметры ")]),_:1}),_(o,{class:"expansion-panel-wrapper"},{default:f(()=>[_(p,null,{default:f(()=>[e("div",ue,[e("section",de,[e("span",null,[y(" Количество изображений: "),e("strong",null,B(t.value.countImages),1)]),_(I,{modelValue:t.value.countImages,"onUpdate:modelValue":c[0]||(c[0]=i=>t.value.countImages=i),color:"#36E2FF",min:1,max:10,step:1,"thumb-size":15},null,8,["modelValue"])]),e("section",_e,[e("div",me,[e("span",null,[y("Шагов прорисовки: "),e("strong",null,B(t.value.step),1)]),_(I,{modelValue:t.value.step,"onUpdate:modelValue":c[1]||(c[1]=i=>t.value.step=i),color:"#36E2FF",min:10,max:50,step:1,"thumb-size":15},null,8,["modelValue"])]),e("div",ve,[e("span",null,[y("Степень соответствия: "),e("strong",null,B(t.value.navigation),1)]),_(I,{modelValue:t.value.navigation,"onUpdate:modelValue":c[2]||(c[2]=i=>t.value.navigation=i),color:"#36E2FF",min:1,max:10,step:1,"thumb-size":15},null,8,["modelValue"])])]),e("div",ge,[he,z(e("input",{"onUpdate:modelValue":c[3]||(c[3]=i=>t.value.seed=i),type:"number",onKeypress:g,placeholder:"Зернистость",class:G({"is-data-input":t.value.seed})},null,34),[[T,t.value.seed,void 0,{lazy:!0}]])])])]),_:1})]),_:1})]),_:1})}}};const R=x=>(Q("data-v-4ac75f5c"),x=x(),W(),x),fe={class:"wrapper-coast"},xe={class:"coast-generation"},Le={key:1,class:"create-project no-hover button-loader"},Ie=R(()=>e("span",null,"Генерация...",-1)),ye=R(()=>e("svg",{viewBox:"25 25 50 50"},[e("circle",{r:"20",cy:"50",cx:"50"})],-1)),Me=[Ie,ye],be={__name:"GenerateButton",emits:["setNext"],setup(x,{emit:M}){const b=j(),{person:L,filters:t}=U(b),g=O(),{isGeneration:s,sizeParameters:c}=U(g),{toggleGeneration:C,addNewImages:I}=g,p=Y(),{toggleRegistrationDialog:o,toggleBuyMoreCredits:S,toggleSnackBarReject:i}=p,{generateImages:F}=D();let h=v(1),n=v(1),a=v("");V(t,l=>{l.parameters.countImages===1?n.value=`${l.parameters.countImages} изображение`:l.parameters.countImages>1&&l.parameters.countImages<5?n.value=`${l.parameters.countImages} изображения`:n.value=`${t._value.parameters.countImages} изображений`;let d=l.parameters.countImages*c.value.costFactor*(l.parameters.step/25)*((l.size.width+l.size.height)/1536);h.value=d<.2?.2:d.toFixed(1),h.value===1?a.value="краска":h.value<5?a.value="краски":a.value="красок"});function N(){var l;if(L._value.id)if(h.value<L._value.credits){let d=Math.floor(Math.random()*1e4);for(let k=0;k<t.value.parameters.countImages;k++){const r={id:d};let E=[...g.images];E.unshift(r),I(E)}C(!0),F(d),window.scrollTo({top:(l=document.getElementById("images"))==null?void 0:l.offsetTop,behavior:"smooth"})}else i({isOpen:!0,text:"Недостаточно средств"}),S(!0);else o(!0)}return(l,d)=>{const k=m("v-icon");return $(),w("section",{class:"main-buttons",id:"v-step-1",onClick:d[0]||(d[0]=J(r=>M("setNext"),["prevent"]))},[e("div",fe,[e("p",xe,"Стоимость генерации: "+B(u(h))+" "+B(u(a)),1)]),u(s)?($(),w("button",Le,Me)):($(),w("button",{key:0,class:"create-project",onClick:N},[y(" Сгенерировать "+B(u(n))+" ",1),_(k,{end:"",icon:"mdi-arrow-right"})]))])}}},Se=K(be,[["__scopeId","data-v-4ac75f5c"]]);export{Se as G,Be as _,Ce as a};
